apiVersion: 1.0
image:
  imageType: iso
  arch: aarch64
  baseImage: SL-Micro.aarch64.default-selfinstall.iso
  outputImageName: eib-mgmt-cluster-image-arm.iso
operatingSystem:
  isoConfiguration:
    installDevice: /dev/sda
  users:
    - username: root
      encryptedPassword: ${ROOT_PASSWORD}
  packages:
    packageList:
      - jq
      - openssh-server-config-rootlogin
    sccRegistrationCode: ${SCC_REGISTRATION_CODE}
kubernetes:
  version: v1.34.2+rke2r1
  helm:
    charts:
      - name: cert-manager
        repositoryName: jetstack
        version: 1.19.2
        targetNamespace: cert-manager
        valuesFile: certmanager.yaml
        createNamespace: true
        installationNamespace: kube-system
      - name: suse-storage
        version: 1.10.1
        repositoryName: rancher-application-collection
        targetNamespace: longhorn-system
        createNamespace: true
        installationNamespace: kube-system
        valuesFile: longhorn.yaml
      - name: metal3
        version: 305.0.21+up0.13.0
        repositoryName: suse-edge-charts
        targetNamespace: metal3-system
        createNamespace: true
        installationNamespace: kube-system
        valuesFile: metal3.yaml
      - name: neuvector-crd
        version: 108.0.1+up2.8.10
        repositoryName: rancher
        targetNamespace: neuvector
        createNamespace: true
        installationNamespace: kube-system
        valuesFile: neuvector.yaml
      - name: neuvector
        version: 108.0.1+up2.8.10
        repositoryName: rancher
        targetNamespace: neuvector
        createNamespace: true
        installationNamespace: kube-system
        valuesFile: neuvector.yaml
      - name: rancher
        version: 2.13.1
        repositoryName: rancher-prime
        targetNamespace: cattle-system
        createNamespace: true
        installationNamespace: kube-system
        valuesFile: rancher.yaml
      - name: rancher-turtles-providers
        version: 305.0.4+up0.25.1
        repositoryName: suse-edge-charts
        targetNamespace: cattle-turtles-system
        createNamespace: true
        installationNamespace: kube-system
    repositories:
      - name: jetstack
        url: https://charts.jetstack.io
      - name: rancher
        url: https://charts.rancher.io
      - name: suse-edge-charts
        url: oci://registry.suse.com/edge/charts
      - name: rancher-prime
        url: https://charts.rancher.com/server-charts/prime
      - name: rancher-application-collection
        url: oci://dp.apps.rancher.io/charts
        authentication:
          username: ${APPS.RANCHER.IO_USERNAME}
          password: ${APPS.RANCHER.IO_ACCESS_TOKEN}
embeddedArtifactRegistry:
  registries:
    - uri: dp.apps.rancher.io
      authentication:
        username: ${APPS.RANCHER.IO_USERNAME}
        password: ${APPS.RANCHER.IO_ACCESS_TOKEN}
